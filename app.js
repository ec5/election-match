!function(){"use strict";var e="undefined"==typeof window?global:window;if("function"!=typeof e.require){var t={},n={},a={},r={}.hasOwnProperty,l=/^\.\.?(\/|$)/,u=function(e,t){for(var n,a=[],r=(l.test(t)?e+"/"+t:t).split("/"),u=0,o=r.length;o>u;u++)n=r[u],".."===n?a.pop():"."!==n&&""!==n&&a.push(n);return a.join("/")},o=function(e){return e.split("/").slice(0,-1).join("/")},i=function(t){return function(n){var a=u(o(t),n);return e.require(a,t)}},c=function(e,t){var a=null;a=v&&v.createHot(e);var r={id:e,exports:{},hot:a};return n[e]=r,t(r.exports,i(e),r),r.exports},f=function(e){return a[e]?f(a[e]):e},d=function(e,t){return f(u(o(e),t))},s=function(e,a){null==a&&(a="/");var l=f(e);if(r.call(n,l))return n[l].exports;if(r.call(t,l))return c(l,t[l]);throw new Error("Cannot find module '"+e+"' from '"+a+"'")};s.alias=function(e,t){a[t]=e};var m=/\.[^.\/]+$/,p=/\/index(\.[^\/]+)?$/,h=function(e){if(m.test(e)){var t=e.replace(m,"");r.call(a,t)&&a[t].replace(m,"")!==t+"/index"||(a[t]=e)}if(p.test(e)){var n=e.replace(p,"");r.call(a,n)||(a[n]=e)}};s.register=s.define=function(e,a){if("object"==typeof e)for(var l in e)r.call(e,l)&&s.register(l,e[l]);else t[e]=a,delete n[e],h(e)},s.list=function(){var e=[];for(var n in t)r.call(t,n)&&e.push(n);return e};var v=e._hmr&&new e._hmr(d,s,t,n);s._cache=n,s.hmr=v&&v.wrap,s.brunch=!0,e.require=s}}(),function(){var e;window;require.register("components/AboutSection.js",function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var r=t("react"),l=a(r),u=function(){return l["default"].createElement("section",{className:"container"},l["default"].createElement("h2",null,"關於本網"),l["default"].createElement("p",{className:"lead"},"本網旨在透過數據分析，為選民提供多一項投票時的參考指標，從而希望選出最具代表性的議員。"),l["default"].createElement("p",{className:"lead"},"所用之投票資料來自",l["default"].createElement("a",{href:"http://www.legco.gov.hk/general/chinese/open-legco/open-data.html",rel:"nofollow",target:"_blank"},"立法會網站"),"， 數據及源碼皆於 ",l["default"].createElement("a",{href:"https://github.com/ec5/election-match/",rel:"nofollow",target:"_blank"},"Github 上公開"),"， 歡迎指正錯漏或提出意見。"),l["default"].createElement("h2",null,"緣起"),l["default"].createElement("p",{className:"lead"},"經過不久前的立法會補選，忽然有一日反問自己是怎樣決定投票給誰的，出奇地發覺自己全依賴媒體上的資訊。"),l["default"].createElement("p",{className:"lead"},"除了候選人單方面宣傳的理念，難道就沒有更好的方法找出與自己理念相近的候選人嗎？為了解答這問題，就有了本網。"),l["default"].createElement("p",{className:"lead"},"實際製作之後，想了更多，發覺也有各樣限制（詳見「",l["default"].createElement("a",{href:"#limitation"},"注意事項"),"」），但願聊勝於無。"))};e["default"]=u}),require.register("components/LimitationSection.js",function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var r=t("react"),l=a(r),u=function(){return l["default"].createElement("section",{className:"container"},l["default"].createElement("h2",null,"注意事項"),l["default"].createElement("p",{className:"lead"},"一如所有的評分機制很難做到全面客觀，依賴一至數項的數據分析結果，不宜作為",l["default"].createElement("strong",null,"唯一"),"的投票依據。本網雖已儘量做得客觀，始終也有局限，在閱讀結果時應多加留意，不要盲目接受。"),l["default"].createElement("ul",null,l["default"].createElement("li",null,l["default"].createElement("p",null,"由於本網只有 2012 年至今的投票結果，對於2012 年以前的議員或新進的參選人無法作出分析。")),l["default"].createElement("li",null,l["default"].createElement("p",null,"議員可能因為一些原因沒有投票，因此在投票數量比其他人少的情況下，「配對結果」的排序或會因而降低。例如："),l["default"].createElement("ul",null,l["default"].createElement("li",null,l["default"].createElement("p",null,"立法會主席或會議主持人很少會投票。")),l["default"].createElement("li",null,l["default"].createElement("p",null,"未完成任期或補選的議員。")))),l["default"].createElement("li",null,l["default"].createElement("p",null,"議員可能在提出修正案或為表示支持某一修正案時，選擇不投票或反對，這或會讓配對結果出現誤差。")),l["default"].createElement("li",null,l["default"].createElement("p",null,"由於立法會所提供的公開數據除了議案標題外，並不包含議案摘要，可能以致一些議案因此被忽略。")),l["default"].createElement("li",null,l["default"].createElement("p",null,"「配對結果」所使用的計分方法頗為簡單，或有不妥之處。如有對統計學比較熟悉的朋友，請不吝賜教。"))))};e["default"]=u}),require.register("initialize.js",function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=function(){function e(e,t){var n=[],a=!0,r=!1,l=void 0;try{for(var u,o=e[Symbol.iterator]();!(a=(u=o.next()).done)&&(n.push(u.value),!t||n.length!==t);a=!0);}catch(i){r=!0,l=i}finally{try{!a&&o["return"]&&o["return"]()}finally{if(r)throw l}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=t("url"),m=a(s),p=t("lodash"),h=a(p),v=t("base64-js"),E=a(v),g=t("fuse.js"),b=a(g),y=t("pako"),S=a(y),w=t("query-string"),x=a(w),_=t("copy-to-clipboard"),D=a(_),N=t("reselect"),T=t("react-dom"),k=t("react"),C=a(k),M=t("react-bootstrap/lib/Badge"),O=a(M),j=t("react-bootstrap/lib/Button"),V=a(j),A=t("react-bootstrap/lib/ButtonToolbar"),P=a(A),R=t("react-bootstrap/lib/Clearfix"),q=a(R),U=t("react-bootstrap/lib/ControlLabel"),B=a(U),F=t("react-bootstrap/lib/DropdownButton"),L=a(F),Y=t("react-bootstrap/lib/FormControl"),G=a(Y),I=t("react-bootstrap/lib/FormGroup"),K=a(I),z=t("react-bootstrap/lib/Grid"),H=a(z),J=t("react-bootstrap/lib/InputGroup"),W=a(J),X=t("react-bootstrap/lib/MenuItem"),Q=a(X),Z=t("react-bootstrap/lib/Nav"),ee=a(Z),te=t("react-bootstrap/lib/Navbar"),ne=a(te),ae=t("react-bootstrap/lib/NavItem"),re=a(ae),le=t("react-bootstrap/lib/Panel"),ue=a(le),oe=t("react-list"),ie=a(oe),ce=t("react-scroll-up"),fe=a(ce),de=t("./motion"),se=t("./components/AboutSection"),me=a(se),pe=t("./components/LimitationSection"),he=a(pe),ve="googleClientLoaded",Ee=function(e){return E["default"].fromByteArray(S["default"].deflate(JSON.stringify(d({},e,{_v:2})),{level:9,memLevel:9}))},ge=function(e){try{return JSON.parse(S["default"].inflate(E["default"].toByteArray(e),{to:"string"}))}catch(t){return null}},be=function(e){var t=m["default"].parse(window.location.href);return delete t.search,t.hash="",t.query=e,m["default"].format(t)},ye=function(e){return be({s:Ee(e)})},Se=function(e){return h["default"].reduce(e,function(e,t){return e[t]=null,e},{})},we=function(){var e=h["default"].trimStart(window.location.hash,"#");switch(e){case"about":case"limitation":case"stats":return e;default:return"vote"}},xe=function(){var e=x["default"].parse(window.location.search),t=e.s,n=t?ge(t):{},a=h["default"].get(n,"motionIds");return a&&(n.voted=Se(a)),h["default"].isEmpty(n)||(n.activeTab=Ae(n)?3:2),d({},h["default"].omit(n,["_v","motionIds"]),{currentNav:we()})},_e=function(e,t){return h["default"].get(t,[e])},De=function(e){return e.scoreVars},Ne=function(e){return e.voted},Te=function(e){return e.shortUrls},ke=(0,N.createSelector)(Ne,Te,function(e,t){return ye({motionIds:h["default"].keys(e)})}),Ce=(0,N.createSelector)(ke,Te,_e),Me=(0,N.createSelector)(Ne,ke,function(e,t){return!h["default"].isEmpty(e)&&h["default"].size(t)<2048}),Oe=(0,N.createSelector)(Ne,Te,De,function(e,t,n){return ye({scoreVars:n,voted:e})}),je=(0,N.createSelector)(Oe,Te,_e),Ve=(0,N.createSelector)(Ne,function(e){return h["default"].countBy(e,function(e){return e?e:null})}),Ae=(0,N.createSelector)(Ve,function(e){return!e[null]}),Pe=(0,N.createSelector)(Ne,Oe,Ae,function(e,t,n){return n&&!h["default"].isEmpty(e)&&h["default"].size(t)<2048}),Re=(0,N.createSelector)(Me,Pe,function(e,t){return e||t}),qe=(0,N.createSelector)(function(e){return e.data.motions},function(e){return new b["default"](h["default"].values(e),{keys:["title"]})}),Ue=(0,N.createSelector)(function(e){return e.data.motions},function(e){return e.startDate},function(e){return e.endDate},function(e){return e.filterText},qe,function(e,t,n,a,r){var l=h["default"].isEmpty(a)?e:r.search(a),u=h["default"].filter(l,function(e){return e.voteDateMoment.isBetween(t,n)});return u}),Be=(0,N.createSelector)(function(e){return e.data.motions},Ne,function(e,t){return h["default"].filter(e,function(e){return!h["default"].isUndefined(h["default"].get(t,[e.id]))})}),Fe=(0,N.createSelector)(function(e){return e.activeTab},Ne,function(e,t){return h["default"].isEmpty(t)?1:e}),Le=function(e){return{yes:"no",no:"yes"}[e]},Ye=(0,N.createSelector)(function(e){return e.data.motions},Ne,function(e){return e.data.members},function(e){return e.scoreVars},function(e,t,n,a){return h["default"].sortBy(h["default"].map(n,function(e,n){var r=h["default"].reduce(t,function(t,n,r){var l=e.votes[r];return l===n?(t.score+=a[n],t[n]+=1):l===Le(n)?(t.score+=a.opposite,t.opposite+=1):l&&(t.score+=a.novote,t.novote+=1,t[l]+=1),t},{yes:0,no:0,opposite:0,novote:0,absent:0,present:0,abstain:0,score:0});return{name:n,matching:r}}),function(e){return-1*e.matching.score})}),Ge=(0,N.createSelector)(function(e){return e.data.motions},function(e){return h["default"].map(e,"voteDateMoment")}),Ie=(0,N.createSelector)(Ge,function(e){return h["default"].max(e)}),Ke=(0,N.createSelector)(Ge,function(e){return h["default"].min(e)}),ze=(0,N.createSelector)(Ne,function(e){return h["default"].size(e)}),$e=function(e){function t(){return u(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),f(t,[{key:"componentDidMount",value:function(){$(this._input).daterangepicker(d({autoApply:!0,locale:{format:de.DATE_FORMAT},showDropdowns:!0},h["default"].pick(this.props,["startDate","endDate","minDate","maxDate"]))).on("change",this.props.onChange)}},{key:"render",value:function(){var e=this;return C["default"].createElement("input",{ref:function(t){return e._input=t},type:"text",name:"datefilter",className:"form-control"})}}]),t}(k.Component),He=function(e){var t=e.onClick;return C["default"].createElement("button",{type:"button",className:"close pull-right",ariaLabel:"Close",onClick:t},C["default"].createElement("span",{ariaHidden:"true"},"×"))},Je=function(e){var t=e.motion,n=(0,de.getUrls)(t);return C["default"].createElement(L["default"],{bsStyle:"link",title:t.voteDate,id:"vote-date-dropdown-"+t.id,style:{paddingLeft:0,paddingRight:0}},h["default"].reduce([["agenda","會議議程"],["rundown","會議過程正式紀錄"],["minutesPdf","會議紀要 PDF"],["results","決定的紀錄"],["votingPdf","投票結果 PDF"],["votingResults","投票結果"]],function(e,t,a){var r=c(t,2),l=r[0],u=r[1],o=n[l];return o&&e.push(C["default"].createElement(Q["default"],{key:a,href:o,rel:"nofollow",target:"_blank"},u)),e},[]),C["default"].createElement(Q["default"],{divider:!0}),C["default"].createElement(Q["default"],{href:n.index,rel:"nofollow",target:"_blank"},"會議"))},We=function(e){var t=e.motions,n=e.voted,a=e.onVoteYes,r=e.onVoteNo,l=e.onRemoveMotion;return function(e){var u=t[e];return C["default"].createElement("div",{key:e,className:"form-group list-group-item lead"},C["default"].createElement("h4",{className:"list-group-item-heading"},C["default"].createElement(q["default"],{style:{margin:"0.5rem 0 1.5rem"}},h["default"].has(n,u.id)&&C["default"].createElement(He,{onClick:function(){return l(u.id)}}),C["default"].createElement(Je,{motion:u})),u.title),C["default"].createElement("label",{className:"radio-inline"},C["default"].createElement("input",{type:"radio",name:u.id,value:"yes",onChange:function(){return a(u)},checked:"yes"===h["default"].get(n,u.id)})," 贊成"),C["default"].createElement("label",{className:"radio-inline"},C["default"].createElement("input",{type:"radio",name:u.id,value:"no",onChange:function(){return r(u)},checked:"no"===h["default"].get(n,u.id)})," 反對"))}},Xe=function(e){var t=e.activeTab,n=e.onSelectTab,a=e.votedCount,r=e.isAllVoted,l=e.canShare,u=a>0&&r;return C["default"].createElement("header",null,C["default"].createElement("h2",null,"議案投票"),C["default"].createElement("p",{className:"lead"},"假如你是立法會議員，你會如何投票？"),C["default"].createElement(ee["default"],{bsStyle:"tabs",activeKey:t,onSelect:n,justified:!0},C["default"].createElement(re["default"],{eventKey:1},"選取議案"),C["default"].createElement(re["default"],{eventKey:2,disabled:0===a},"你的投票"," ",C["default"].createElement(O["default"],{className:u?"alert-success":""},a)),C["default"].createElement(re["default"],{eventKey:3,disabled:!u},"配對結果"),C["default"].createElement(re["default"],{eventKey:4,disabled:!l},"分享")))},Qe=function(e){try{(0,D["default"])(e)}catch(t){}},Ze=function(e){var t=e.url,n=e.shortUrl,a=e.onGenerateShortUrl;return C["default"].createElement("form",{onSubmit:function(e){e.preventDefault(),n?Qe(n):a(t,function(e){Qe(e.shortUrl)})}},C["default"].createElement(K["default"],null,C["default"].createElement(W["default"],null,C["default"].createElement(G["default"],{type:"text",value:n||t,readOnly:!0,style:{textOverflow:"ellipsis"}}),C["default"].createElement(W["default"].Button,null,C["default"].createElement(V["default"],{type:"submit"},"複製短網址")))))},et=function(e){var t=e.currentNav;return C["default"].createElement(ne["default"],{staticTop:!0},C["default"].createElement(ne["default"].Header,null,C["default"].createElement(ne["default"].Brand,{active:!0},C["default"].createElement("a",{href:"#"},"立法會投票傾向配對")),C["default"].createElement(ne["default"].Toggle,null)),C["default"].createElement(ne["default"].Collapse,null,C["default"].createElement(ee["default"],null,h["default"].map([["vote","議案投票"],["limitation","注意事項"],["about","關於本網"]],function(e,n){var a=c(e,2),r=a[0],l=a[1];return C["default"].createElement(re["default"],{key:n,eventKey:r,href:"#"+r,active:t===r},l)}))))},tt=function(e){var t=e.defaultExpanded,n=e.title,a=e.children;return C["default"].createElement(ue["default"],{header:n,collapsible:!0,defaultExpanded:t,bsStyle:"info"},C["default"].createElement("form",{className:"form-horizontal"},a))},nt=function(e){var t=e.title,n=l(e,["title"]);return C["default"].createElement(K["default"],null,C["default"].createElement(B["default"],{className:"col-sm-2"},t),C["default"].createElement("div",{className:"col-sm-10"},C["default"].createElement(G["default"],d({type:"number"},n))))},at={yes:1,no:1,opposite:-1,novote:0},rt=function(e){function t(e){u(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));return n.renderFilterVotesTab=function(){var e=n.state,t=e.data,a=e.voted,r=e.startDate,l=e.endDate,u=Ue(n.state);return C["default"].createElement(ue["default"],null,C["default"].createElement("p",{className:"lead"},"共 ",h["default"].size(t.motions)," 個議案，最近更新：",Ie(n.state).format(de.DATE_FORMAT),"。"),C["default"].createElement($e,{minDate:Ke(n.state),maxDate:Ie(n.state),startDate:r,endDate:l,onChange:function(e,t){var a=h["default"].map(h["default"].split(e.target.value," - "),function(e){return moment(e,de.DATE_FORMAT)}),r=c(a,2),l=r[0],u=r[1];n.setState({startDate:l,endDate:u})}}),C["default"].createElement(G["default"],{type:"text",placeholder:"輸入關鍵字篩選",value:n.state.filterText,onChange:function(e){return n.setState({filterText:e.target.value})}}),h["default"].isEmpty(u)?C["default"].createElement("p",{className:"text-warning"},"沒有議案可投票"):C["default"].createElement(ie["default"],{itemRenderer:We({motions:u,voted:a,onVoteYes:n.onVote("yes"),onVoteNo:n.onVote("no"),onRemoveMotion:n.onRemoveMotion}),length:u.length,type:"simple"}))},n.renderSelectedVotesTab=function(){var e=n.state.voted,t=Be(n.state),a=Ve(n.state);return C["default"].createElement("div",null,h["default"].isEmpty(t)?C["default"].createElement("p",{className:"text-warning"},"未有投票"):C["default"].createElement(ie["default"],{itemRenderer:We({motions:t,voted:e,onVoteYes:n.onVote("yes"),onVoteNo:n.onVote("no"),onRemoveMotion:n.onRemoveMotion}),length:t.length,type:"simple"}),C["default"].createElement(P["default"],{style:{padding:"16px 0"}},a[null]?C["default"].createElement(V["default"],{onClick:n.onRemoveEmptyMotions,className:"pull-right"},"移除 ",a[null]," 個未投票議案"):C["default"].createElement(V["default"],{bsStyle:"primary",onClick:function(){return n.setState({activeTab:3})},className:"pull-right"},"看「配對結果」")))},n.renderResultTab=function(){var e=n.state.scoreVars,t=Ye(n.state),a=C["default"].createElement("h3",null,"計分方法"),r=!h["default"].isEqual(e,at);return C["default"].createElement("div",null,C["default"].createElement(tt,{title:a,defaultExpanded:r},C["default"].createElement(nt,{title:"相同贊成",value:e.yes,onChange:n.onScoreVarsChange("yes")}),C["default"].createElement(nt,{title:"相同反對",value:e.no,onChange:n.onScoreVarsChange("no")}),C["default"].createElement(nt,{title:"相反投票",value:e.opposite,onChange:n.onScoreVarsChange("opposite")}),C["default"].createElement(nt,{title:"沒有投票",value:e.novote,onChange:n.onScoreVarsChange("novote")})),C["default"].createElement("div",{className:"table-responsive"},C["default"].createElement("table",{className:"table table-striped table-hover table-condensed"},C["default"].createElement("thead",null,C["default"].createElement("tr",null,C["default"].createElement("th",null,"議員"),C["default"].createElement("th",null,"相似分數"),C["default"].createElement("th",null,"相同投票"),C["default"].createElement("th",null,"相反投票"),C["default"].createElement("th",null,"相同贊成"),C["default"].createElement("th",null,"相同反對"),C["default"].createElement("th",null,"沒有投票"))),C["default"].createElement("tbody",null,h["default"].map(t,function(e,t){return C["default"].createElement("tr",{key:t},C["default"].createElement("td",null,e.name),C["default"].createElement("td",null,e.matching.score),C["default"].createElement("td",null,e.matching.yes+e.matching.no),C["default"].createElement("td",null,e.matching.opposite),C["default"].createElement("td",null,e.matching.yes),C["default"].createElement("td",null,e.matching.no),C["default"].createElement("td",null,e.matching.novote))})),C["default"].createElement("tfoot",null,C["default"].createElement("tr",null,C["default"].createElement("td",{colSpan:7,style:{padding:16}},C["default"].createElement("p",null,"註：作為負責任的選民，不應只靠單一資訊投票，請參閱「",C["default"].createElement("a",{href:"#limitation"},"注意事項"),"」瞭解本網的一些限制。"))))),C["default"].createElement(P["default"],{style:{padding:"16px 0"}},C["default"].createElement(V["default"],{bsStyle:"primary",onClick:function(){return n.setState({activeTab:4})},className:"pull-right"},"複製分享連結"))))},n.onGenerateShortUrl=function(e,t){gapi.client.urlshortener.url.insert({resource:{longUrl:e}}).execute(function(a){var l=a.id;if(l){var u=n.state.shortUrls;n.setState({shortUrls:d({},u,r({},e,l))}),h["default"].isFunction(t)&&t({shortUrl:l})}})},n.onRemoveMotion=function(e){var t=h["default"].omit(n.state.voted,e);n.setState({voted:t})},n.onRemoveEmptyMotions=function(){var e=h["default"].omitBy(n.state.voted,h["default"].isEmpty);n.setState({voted:e})},n.state=d({activeTab:1,scoreVars:at},xe(),{filterText:"",isGoogleClientLoaded:!1}),n}return i(t,e),f(t,[{key:"componentDidMount",value:function(){var e=this;$(window).on(ve,function(){e.setState({isGoogleClientLoaded:!0})}).on("hashchange",function(t){e.setState({currentNav:we()})}),$.getJSON("data.json",function(t){h["default"].each(t.motions,function(e,t){e.id=t,e.group=e.meetingType+" - "+e.voteDate,e.voteDateMoment=moment(e.voteDate,de.DATE_FORMAT)}),e.setState({data:t,startDate:Ke({data:t}),endDate:Ie({data:t})})})}},{key:"render",value:function(){var e=this.state,t=e.currentNav,n=e.data;if(!n)return C["default"].createElement("div",null,"載入議案資料中⋯⋯");var a={position:"fixed",bottom:120,right:30,cursor:"pointer",transitionDuration:"0.2s",transitionTimingFunction:"linear",transitionDelay:"0s"};return C["default"].createElement("div",{style:{paddingBottom:20}},C["default"].createElement(et,{currentNav:t}),{vote:this.renderMainSection,stats:this.renderStatsSection,limitation:this.renderLimitationSection,about:this.renderAboutSection}[t].call(this),C["default"].createElement(fe["default"],{showUnder:160,style:a},C["default"].createElement("img",{src:"/images/up.png",alt:"移至頂部"})))}},{key:"renderMainSection",value:function(){var e=this,t=this.state,n=(t.data,t.voted,Fe(this.state));return C["default"].createElement(H["default"],null,C["default"].createElement(Xe,{activeTab:n,onSelectTab:function(t){return e.setState({activeTab:t})},votedCount:ze(this.state),isAllVoted:Ae(this.state),canShare:Re(this.state)}),[this.renderFilterVotesTab,this.renderSelectedVotesTab,this.renderResultTab,this.renderShareTab][n-1].call(this))}},{key:"renderStatsSection",value:function(){return C["default"].createElement("div",null,"stats")}},{key:"renderLimitationSection",value:function(){return C["default"].createElement(he["default"],null)}},{key:"renderAboutSection",value:function(){return C["default"].createElement(me["default"],null)}},{key:"renderShareTab",value:function(){var e={marginBottom:10};return C["default"].createElement("div",null,C["default"].createElement(ue["default"],null,Me(this.state)&&C["default"].createElement("div",null,C["default"].createElement("p",{className:"lead",style:e},"分享你已選取的議案"),C["default"].createElement("p",null,"對方只會看到議案表格，看不到你的投票，適合讓你的朋友就你關心的議題分享看法。"),C["default"].createElement(Ze,{url:ke(this.state),shortUrl:Ce(this.state),onGenerateShortUrl:this.onGenerateShortUrl}),C["default"].createElement("br",null)),Pe(this.state)&&C["default"].createElement("div",null,C["default"].createElement("p",{className:"lead",style:e},"分享你的配對結果"),C["default"].createElement("p",null,"對方會看到你的投票及配對結果，適合讓你的朋友知道你對一些議題的看法。"),C["default"].createElement(Ze,{url:Oe(this.state),shortUrl:je(this.state),onGenerateShortUrl:this.onGenerateShortUrl}))))}},{key:"onScoreVarsChange",value:function(e){var t=this;return function(n){var a=t.state.scoreVars;t.setState({scoreVars:d({},a,r({},e,h["default"].toSafeInteger(n.target.value)))})}}},{key:"onVote",value:function(e){var t=this;return function(n){var a=t.state.voted;t.setState({voted:d({},a,r({},n.id,e))})}}}]),t}(C["default"].Component),lt=function(){var e="AIzaSyA8f91lvLDPchAInQKcjWX4LXjAiJbDEHo";gapi.client.setApiKey(e),gapi.client.load("urlshortener","v1",function(){$(window).trigger(ve)})};window.initGoogleClient=lt,document.addEventListener("DOMContentLoaded",function(){(0,T.render)(C["default"].createElement(rt,null),document.getElementById("app"))})}),require.register("motion.js",function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.getUrls=e.DATE_FORMAT=void 0;var r=t("lodash"),l=a(r),u=e.DATE_FORMAT="DD/MM/YYYY";e.getUrls=function(e){var t=e.meetingType,n=e.startDate,a=e.voteDateMoment,r=moment(n,u),o=(r.month()>=9?r.year():r.year()-1)%100,i=o+"-"+(o+1),c="http://www.legco.gov.hk/yr"+i+"/chinese/",f=r.format("YYYYMMDD"),d={"Council Meeting":{urls:{index:"http://www.legco.gov.hk/general/chinese/counmtg/yr12-16/mtg_"+o+(o+1)+".htm",agenda:c+"counmtg/agenda/cm"+f+".htm",minutesPdf:c+"counmtg/minutes/cm"+f+".pdf",votingPdf:c+"counmtg/voting/v"+f+".pdf",rundown:"http://www.legco.gov.hk/php/hansard/chinese/rundown.php?date="+a.format("YYYY-MM-DD")+"&lang=1"}},"Establishment Subcommittee":{index:"fc/esc/general/meetings.htm",code:"esc",prefix:c+"fc/esc",props:["agenda","minutesPdf"]},"Finance Committee":{index:"fc/fc/general/meetings.htm",code:"fc",prefix:c+"fc/fc",props:["agenda","minutesPdf","results","votingResults"]},"House Committee":{index:"hc/general/hc_mtg.htm",code:"hc",prefix:c+"hc",props:["agenda","minutesPdf"]},"Public Works Subcommittee":{index:"fc/pwsc/general/meetings.htm",code:"pwsc",prefix:c+"fc/pwsc",props:["agenda","minutesPdf","results"]}}[t];if(d.urls)return d.urls;var s=l["default"].pick({agenda:d.prefix+"/agenda/"+d.code+f+".htm",minutesPdf:d.prefix+"/minutes/"+d.code+f+".pdf",results:d.prefix+"/results/"+d.code+f+".htm",votingPdf:d.prefix+"/voting/v"+f+".pdf",votingResults:d.prefix+"/results/v"+f+".htm"},d.props);return s.index=""+d.prefix+d.index,s}}),require.alias("buffer/index.js","buffer"),require.alias("process/browser.js","process"),require.alias("punycode/punycode.js","punycode"),require.alias("querystring-es3/index.js","querystring"),require.alias("url/url.js","url"),e=require("process"),require.register("___globals___",function(e,t,n){})}(),require("___globals___");